<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Welcome to INSIGNO, an app for taking care of the environment while having fun. This is our backend service for managing all the request that our app needs. For code management reasons, we split our codebase in different modules, each one in charge of a single app aspect. In particular:"><title>insignolib - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-f3501f0f5ae15dfb.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="insignolib" data-themes="" data-resource-suffix="" data-rustdoc-version="1.71.0-nightly (9d871b061 2023-05-21)" data-search-js="search-4926e5fc22a5646a.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-6f6ffb5395b17c6e.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../static.files/storage-62ce34ea385b278a.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-f0540c1d82cde29b.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../insignolib/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../insignolib/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate insignolib</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.1.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">insignolib</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/insignolib/lib.rs.html#1-205">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Welcome to INSIGNO, an app for taking care of the environment while having fun.
This is our backend service for managing all the request that our app needs.
For code management reasons, we split our codebase in different modules, each one in charge of a single app aspect.
In particular:</p>
<ul>
<li><a href="index.html" title="mod insignolib">self</a>: sticks all the modules together!</li>
<li>[schema_sql]: defines our database structure(needed by diesel, probably we will remove that file in a future release)</li>
<li>[schema_rs]: rust counterpart of schema_sql. This file will be DEFINITELY removed in a future release</li>
<li>[cors]: handles all cors request</li>
<li>[db]: it connects to our postgres with diesel and rocket_sync_db_pool.</li>
<li>[mail]: send super cool (html) mail using lettre</li>
<li>[pending]: handles all the different types of pending request that we will possibly ever need (for now mail-verification), and forward them to the correct handler</li>
<li>[pills]: manages our super interesting pills.</li>
<li>[utils]: manages some utility used in all the crate. Smaller this file is, the better.</li>
<li><a href="auth/index.html" title="mod insignolib::auth">auth</a>: signup, login, account verification…</li>
<li>[map]: marker handling</li>
<li><a href="https://doc.rust-lang.org/nightly/core/macros/builtin/attr.test.html" title="attr core::macros::builtin::test">test</a>: defines some methods used for testing all around the crate.</li>
</ul>
<p>In addition to that in this crate you could find the test script.
some command’s that you should run before using it.</p>
<ul>
<li><code>curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh</code> install rustup</li>
<li><code>sudo apt install docker.io</code> in test scrypt we use docker</li>
<li><code>cargo install cargo-watch cargo-tarpaulin</code> install some cargo cool thing</li>
<li><code>cargo install diesel-cli --no-default-features --features &quot;postgres&quot;</code></li>
</ul>
<p>Down there you could see a roadmap of the next implementations:</p>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
login/signup</li>
<li><input disabled="" type="checkbox" checked=""/>
change password</li>
<li><input disabled="" type="checkbox"/>
mitigate ddos attacks</li>
<li><input disabled="" type="checkbox"/>
from Insigno.toml it should be straightforward to implement custom server</li>
<li><input disabled="" type="checkbox"/>
dockerize, and keep it easily scalable</li>
<li><input disabled="" type="checkbox"/>
remove utils, schema_sql and schema_rs</li>
<li><input disabled="" type="checkbox"/>
split container in multiple independent crate (faster compilation and better organization)</li>
<li><input disabled="" type="checkbox"/>
cool way to assign points, we want to boost responsible use of the app</li>
<li><input disabled="" type="checkbox"/>
better pgsql query, now we prefer to use raw diesel and implement function db-side</li>
<li><input disabled="" type="checkbox"/>
TESTING</li>
<li><input disabled="" type="checkbox"/>
DOCUMENTING</li>
</ul>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="auth/index.html" title="mod insignolib::auth">auth</a></div></li></ul><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.erase_tables.html" title="macro insignolib::erase_tables">erase_tables</a></div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.InsignoConfig.html" title="struct insignolib::InsignoConfig">InsignoConfig</a></div><div class="desc docblock-short">here is where we store all our configuration needed at runtime
it implements Deserialize for interfacing with figiment deserializer</div></li><li><div class="item-name"><a class="struct" href="struct.TrashTypeMap.html" title="struct insignolib::TrashTypeMap">TrashTypeMap</a></div><div class="desc docblock-short">Wouldn’t be wonderful if we could have an easy struct for mapping trash-id to trash-names?</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.main.html" title="fn insignolib::main">main</a></div></li><li><div class="item-name"><a class="fn" href="fn.rocket.html" title="fn insignolib::rocket">rocket</a></div><div class="desc docblock-short">here is where all the magic appens.calling this function we are initializing all our parameter, loading values, connecting to db…</div></li></ul></section></div></main></body></html>